(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{G4y8:function(e,a,t){e.exports={card:"card___1dsH6",errorIcon:"errorIcon___3jptF",anticon:"anticon___A0Hdx",errorPopover:"errorPopover___FGjVx",errorListItem:"errorListItem___1rmVg",errorField:"errorField___2Y7eW",editable:"editable___WRDur"}},LNof:function(e,a,t){e.exports={toolbar:"toolbar___2Mipv",left:"left___26L8r",right:"right___30apj"}},cpAS:function(e,a,t){"use strict";t.r(a);t("+L6B");var r=t("2/Rp"),n=(t("Xi6J"),t("kl6h")),l=(t("IzEo"),t("bx4M")),c=(t("14J3"),t("BMrR")),o=(t("jCWc"),t("kPKH")),m=(t("5NDa"),t("5rEg")),i=(t("Q9mQ"),t("diRs")),u=(t("y8nQ"),t("Vl3Y")),s=t("tJVT"),d=(t("iQDF"),t("+eQT")),p=(t("OaEy"),t("2fM7")),f=t("2BaD"),E=t("q1tI"),v=t.n(E),b=t("Hx5s"),g=t("9kvl"),y=(t("g9YV"),t("wCAj")),k=(t("P2fV"),t("NJEC")),h=(t("/zsF"),t("PArb")),w=(t("miYZ"),t("tsqr")),I=t("oBTY"),j=t("k1fw"),_=t("xvlK"),N=t("G4y8"),O=t.n(N),x=function(e){var a=e.value,t=e.onChange,n=Object(E["useState"])(!1),l=Object(s["a"])(n,2),c=l[0],o=l[1],i=Object(E["useState"])(!1),u=Object(s["a"])(i,2),d=u[0],p=u[1],f=Object(E["useState"])(0),b=Object(s["a"])(f,2),g=b[0],N=b[1],x=Object(E["useState"])({}),C=Object(s["a"])(x,2),F=C[0],q=C[1],P=Object(E["useState"])(a),L=Object(s["a"])(P,2),R=L[0],S=L[1],A=function(e,a){var t;return null===(t=a||R)||void 0===t?void 0:t.filter((function(a){return a.key===e}))[0]},J=function(e,a){e.preventDefault();var t=null===R||void 0===R?void 0:R.map((function(e){return Object(j["a"])({},e)})),r=A(a,t);r&&(r.editable||(F[a]=Object(j["a"])({},r),q(F)),r.editable=!r.editable,S(t))},V=function(){var e=(null===R||void 0===R?void 0:R.map((function(e){return Object(j["a"])({},e)})))||[];e.push({key:"NEW_TEMP_ID_".concat(g),workId:"",name:"",department:"",editable:!0,isNew:!0}),N(g+1),S(e)},B=function(e){var a=null===R||void 0===R?void 0:R.filter((function(a){return a.key!==e}));S(a),t&&t(a)},M=function(e,a,t){var r=Object(I["a"])(R),n=A(t,r);n&&(n[a]=e.target.value,S(r))},W=function(e,a){e.persist(),p(!0),setTimeout((function(){if(c)o(!1);else{var r=A(a)||{};if(!r.workId||!r.name||!r.department)return w["b"].error("\u8bf7\u586b\u5199\u5b8c\u6574\u6210\u5458\u4fe1\u606f\u3002"),e.target.focus(),void p(!1);delete r.isNew,J(e,a),t&&t(R),p(!1)}}),500)},D=function(e,a){"Enter"===e.key&&W(e,a)},Q=function(e,a){o(!0),e.preventDefault();var t=Object(I["a"])(R),r=[];r=t.map((function(e){if(e.key===a&&F[a]){var t=Object(j["a"])(Object(j["a"])(Object(j["a"])({},e),F[a]),{},{editable:!1});return delete F[a],q(F),t}return e})),S(r),o(!1)},T=[{title:"\u6210\u5458\u59d3\u540d",dataIndex:"name",key:"name",width:"20%",render:function(e,a){return a.editable?v.a.createElement(m["a"],{value:e,autoFocus:!0,onChange:function(e){return M(e,"name",a.key)},onKeyPress:function(e){return D(e,a.key)},placeholder:"\u6210\u5458\u59d3\u540d"}):e}},{title:"\u5de5\u53f7",dataIndex:"workId",key:"workId",width:"20%",render:function(e,a){return a.editable?v.a.createElement(m["a"],{value:e,onChange:function(e){return M(e,"workId",a.key)},onKeyPress:function(e){return D(e,a.key)},placeholder:"\u5de5\u53f7"}):e}},{title:"\u6240\u5c5e\u90e8\u95e8",dataIndex:"department",key:"department",width:"40%",render:function(e,a){return a.editable?v.a.createElement(m["a"],{value:e,onChange:function(e){return M(e,"department",a.key)},onKeyPress:function(e){return D(e,a.key)},placeholder:"\u6240\u5c5e\u90e8\u95e8"}):e}},{title:"\u64cd\u4f5c",key:"action",render:function(e,a){return a.editable&&d?null:a.editable?a.isNew?v.a.createElement("span",null,v.a.createElement("a",{onClick:function(e){return W(e,a.key)}},"\u6dfb\u52a0"),v.a.createElement(h["a"],{type:"vertical"}),v.a.createElement(k["a"],{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return B(a.key)}},v.a.createElement("a",null,"\u5220\u9664"))):v.a.createElement("span",null,v.a.createElement("a",{onClick:function(e){return W(e,a.key)}},"\u4fdd\u5b58"),v.a.createElement(h["a"],{type:"vertical"}),v.a.createElement("a",{onClick:function(e){return Q(e,a.key)}},"\u53d6\u6d88")):v.a.createElement("span",null,v.a.createElement("a",{onClick:function(e){return J(e,a.key)}},"\u7f16\u8f91"),v.a.createElement(h["a"],{type:"vertical"}),v.a.createElement(k["a"],{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return B(a.key)}},v.a.createElement("a",null,"\u5220\u9664")))}}];return v.a.createElement(v.a.Fragment,null,v.a.createElement(y["a"],{loading:d,columns:T,dataSource:R,pagination:!1,rowClassName:function(e){return e.editable?O.a.editable:""}}),v.a.createElement(r["a"],{style:{width:"100%",marginTop:16,marginBottom:8},type:"dashed",onClick:V},v.a.createElement(_["a"],null),"\u65b0\u589e\u6210\u5458"))},C=x,F=t("0Owb"),q=t("PpiC"),P=t("fWQN"),L=t("mtLc"),R=t("yKVA"),S=t("879j"),A=t("TSYQ"),J=t.n(A),V=t("LNof"),B=t.n(V),M=function(e){Object(R["a"])(t,e);var a=Object(S["a"])(t);function t(){var e;Object(P["a"])(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=a.call.apply(a,[this].concat(n)),e.getWidth=function(e){var a=e.collapsed,t=e.isMobile,r=e.siderWidth,n=document.querySelector(".ant-layout-sider");if(n)return t?void 0:"calc(100% - ".concat(a?48:r||256,"px)")},e}return Object(L["a"])(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.children,r=a.className,n=a.extra,l=Object(q["a"])(a,["children","className","extra"]);return v.a.createElement(b["e"].Consumer,null,(function(a){return v.a.createElement("div",Object(F["a"])({className:J()(r,B.a.toolbar),style:{width:e.getWidth(a),transition:"0.3s all"}},l),v.a.createElement("div",{className:B.a.left},n),v.a.createElement("div",{className:B.a.right},t))}))}}]),t}(E["Component"]),W=p["a"].Option,D=d["a"].RangePicker,Q={name:"\u4ed3\u5e93\u540d",url:"\u4ed3\u5e93\u57df\u540d",owner:"\u4ed3\u5e93\u7ba1\u7406\u5458",approver:"\u5ba1\u6279\u4eba",dateRange:"\u751f\u6548\u65e5\u671f",type:"\u4ed3\u5e93\u7c7b\u578b",name2:"\u4efb\u52a1\u540d",url2:"\u4efb\u52a1\u63cf\u8ff0",owner2:"\u6267\u884c\u4eba",approver2:"\u8d23\u4efb\u4eba",dateRange2:"\u751f\u6548\u65e5\u671f",type2:"\u4efb\u52a1\u7c7b\u578b"},T=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],Y=function(e){var a=e.submitting,t=e.dispatch,d=u["a"].useForm(),g=Object(s["a"])(d,1),y=g[0],k=Object(E["useState"])([]),h=Object(s["a"])(k,2),w=h[0],I=h[1],j=function(e){var a=e.filter((function(e){return e.errors.length>0})).length;if(!e||0===a)return null;var t=function(e){var a=document.querySelector('label[for="'.concat(e,'"]'));a&&a.scrollIntoView(!0)},r=e.map((function(e){if(!e||0===e.errors.length)return null;var a=e.name[0];return v.a.createElement("li",{key:a,className:O.a.errorListItem,onClick:function(){return t(a)}},v.a.createElement(f["a"],{className:O.a.errorIcon}),v.a.createElement("div",{className:O.a.errorMessage},e.errors[0]),v.a.createElement("div",{className:O.a.errorField},Q[a]))}));return v.a.createElement("span",{className:O.a.errorIcon},v.a.createElement(i["a"],{title:"\u8868\u5355\u6821\u9a8c\u4fe1\u606f",content:r,overlayClassName:O.a.errorPopover,trigger:"click",getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e}},v.a.createElement(f["a"],null)),a)},_=function(e){I([]),t({type:"formAndadvancedForm/submitAdvancedForm",payload:e})},N=function(e){I(e.errorFields)};return v.a.createElement(u["a"],{form:y,layout:"vertical",hideRequiredMark:!0,initialValues:{members:T},onFinish:_,onFinishFailed:N},v.a.createElement(b["c"],{content:"\u9ad8\u7ea7\u8868\u5355\u5e38\u89c1\u4e8e\u4e00\u6b21\u6027\u8f93\u5165\u548c\u63d0\u4ea4\u5927\u6279\u91cf\u6570\u636e\u7684\u573a\u666f\u3002"},v.a.createElement(l["a"],{title:"\u4ed3\u5e93\u7ba1\u7406",className:O.a.card,bordered:!1},v.a.createElement(c["a"],{gutter:16},v.a.createElement(o["a"],{lg:6,md:12,sm:24},v.a.createElement(u["a"].Item,{label:Q.name,name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}]},v.a.createElement(m["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}))),v.a.createElement(o["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},v.a.createElement(u["a"].Item,{label:Q.url,name:"url",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},v.a.createElement(m["a"],{style:{width:"100%"},addonBefore:"http://",addonAfter:".com",placeholder:"\u8bf7\u8f93\u5165"}))),v.a.createElement(o["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},v.a.createElement(u["a"].Item,{label:Q.owner,name:"owner",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]},v.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},v.a.createElement(W,{value:"xiao"},"\u4ed8\u6653\u6653"),v.a.createElement(W,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),v.a.createElement(c["a"],{gutter:16},v.a.createElement(o["a"],{lg:6,md:12,sm:24},v.a.createElement(u["a"].Item,{label:Q.approver,name:"approver",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]},v.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},v.a.createElement(W,{value:"xiao"},"\u4ed8\u6653\u6653"),v.a.createElement(W,{value:"mao"},"\u5468\u6bdb\u6bdb")))),v.a.createElement(o["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},v.a.createElement(u["a"].Item,{label:Q.dateRange,name:"dateRange",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u751f\u6548\u65e5\u671f"}]},v.a.createElement(D,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:"100%"}}))),v.a.createElement(o["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},v.a.createElement(u["a"].Item,{label:Q.type,name:"type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]},v.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},v.a.createElement(W,{value:"private"},"\u79c1\u5bc6"),v.a.createElement(W,{value:"public"},"\u516c\u5f00")))))),v.a.createElement(l["a"],{title:"\u4efb\u52a1\u7ba1\u7406",className:O.a.card,bordered:!1},v.a.createElement(c["a"],{gutter:16},v.a.createElement(o["a"],{lg:6,md:12,sm:24},v.a.createElement(u["a"].Item,{label:Q.name2,name:"name2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},v.a.createElement(m["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),v.a.createElement(o["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},v.a.createElement(u["a"].Item,{label:Q.url2,name:"url2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},v.a.createElement(m["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),v.a.createElement(o["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},v.a.createElement(u["a"].Item,{label:Q.owner2,name:"owner2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]},v.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},v.a.createElement(W,{value:"xiao"},"\u4ed8\u6653\u6653"),v.a.createElement(W,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),v.a.createElement(c["a"],{gutter:16},v.a.createElement(o["a"],{lg:6,md:12,sm:24},v.a.createElement(u["a"].Item,{label:Q.approver2,name:"approver2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]},v.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},v.a.createElement(W,{value:"xiao"},"\u4ed8\u6653\u6653"),v.a.createElement(W,{value:"mao"},"\u5468\u6bdb\u6bdb")))),v.a.createElement(o["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},v.a.createElement(u["a"].Item,{label:Q.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},v.a.createElement(n["a"],{placeholder:"\u63d0\u9192\u65f6\u95f4",style:{width:"100%"},getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e}}))),v.a.createElement(o["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},v.a.createElement(u["a"].Item,{label:Q.type2,name:"type2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]},v.a.createElement(p["a"],{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},v.a.createElement(W,{value:"private"},"\u79c1\u5bc6"),v.a.createElement(W,{value:"public"},"\u516c\u5f00")))))),v.a.createElement(l["a"],{title:"\u6210\u5458\u7ba1\u7406",bordered:!1},v.a.createElement(u["a"].Item,{name:"members"},v.a.createElement(C,null)))),v.a.createElement(M,null,j(w),v.a.createElement(r["a"],{type:"primary",onClick:function(){return null===y||void 0===y?void 0:y.submit()},loading:a},"\u63d0\u4ea4")))};a["default"]=Object(g["a"])((function(e){var a=e.loading;return{submitting:a.effects["formAndadvancedForm/submitAdvancedForm"]}}))(Y)}}]);