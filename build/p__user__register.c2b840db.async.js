(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{qq80:function(e,a,t){"use strict";t.r(a);t("14J3");var r=t("BMrR"),s=(t("+L6B"),t("2/Rp")),n=(t("jCWc"),t("kPKH")),l=(t("Q9mQ"),t("diRs")),c=(t("MXD1"),t("CFYs")),i=t("k1fw"),o=(t("miYZ"),t("tsqr")),u=t("tJVT"),m=(t("5NDa"),t("5rEg")),p=(t("OaEy"),t("2fM7")),d=(t("y8nQ"),t("Vl3Y")),g=t("q1tI"),E=t.n(g),f=t("9kvl"),h=t("55Ip"),v=t("sYde"),b=t.n(v),_=d["a"].Item,w=p["a"].Option,j=m["a"].Group,y={ok:E.a.createElement("div",{className:b.a.success},"\u5f3a\u5ea6\uff1a\u5f3a"),pass:E.a.createElement("div",{className:b.a.warning},"\u5f3a\u5ea6\uff1a\u4e2d"),poor:E.a.createElement("div",{className:b.a.error},"\u5f3a\u5ea6\uff1a\u592a\u77ed")},O={ok:"success",pass:"normal",poor:"exception"},N=function(e){var a,t=e.submitting,v=e.dispatch,N=e.userAndregister,k=Object(g["useState"])(0),F=Object(u["a"])(k,2),q=F[0],z=F[1],C=Object(g["useState"])(!1),V=Object(u["a"])(C,2),I=V[0],J=V[1],x=Object(g["useState"])("86"),A=Object(u["a"])(x,2),M=A[0],S=A[1],Y=Object(g["useState"])(!1),B=Object(u["a"])(Y,2),P=B[0],Q=B[1],R=!1,D=d["a"].useForm(),T=Object(u["a"])(D,1),W=T[0];Object(g["useEffect"])((function(){if(N){var e=W.getFieldValue("mail");"ok"===N.status&&(o["b"].success("\u6ce8\u518c\u6210\u529f\uff01"),f["b"].push({pathname:"/user/register-result",state:{account:e}}))}}),[N]),Object(g["useEffect"])((function(){return function(){clearInterval(a)}}),[]);var X=function(){var e=59;z(e),a=window.setInterval((function(){e-=1,z(e),0===e&&clearInterval(a)}),1e3)},G=function(){var e=W.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"},H=function(e){v({type:"userAndregister/submit",payload:Object(i["a"])(Object(i["a"])({},e),{},{prefix:M})})},K=function(e,a){var t=Promise;return a&&a!==W.getFieldValue("password")?t.reject("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u5339\u914d!"):t.resolve()},L=function(e,a){var t=Promise;return a?(I||J(!!a),Q(!P),a.length<6?t.reject(""):(a&&R&&W.validateFields(["confirm"]),t.resolve())):(J(!!a),t.reject("\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"))},U=function(e){S(e)},Z=function(){var e=W.getFieldValue("password"),a=G();return e&&e.length?E.a.createElement("div",{className:b.a["progress-".concat(a)]},E.a.createElement(c["a"],{status:O[a],className:b.a.progress,strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})):null};return E.a.createElement("div",{className:b.a.main},E.a.createElement("h3",null,"\u6ce8\u518c"),E.a.createElement(d["a"],{form:W,name:"UserRegister",onFinish:H},E.a.createElement(_,{name:"mail",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740\uff01"},{type:"email",message:"\u90ae\u7bb1\u5730\u5740\u683c\u5f0f\u9519\u8bef\uff01"}]},E.a.createElement(m["a"],{size:"large",placeholder:"\u90ae\u7bb1"})),E.a.createElement(l["a"],{getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},content:I&&E.a.createElement("div",{style:{padding:"4px 0"}},y[G()],Z(),E.a.createElement("div",{style:{marginTop:10}},"\u8bf7\u81f3\u5c11\u8f93\u5165 6 \u4e2a\u5b57\u7b26\u3002\u8bf7\u4e0d\u8981\u4f7f\u7528\u5bb9\u6613\u88ab\u731c\u5230\u7684\u5bc6\u7801\u3002")),overlayStyle:{width:240},placement:"right",visible:I},E.a.createElement(_,{name:"password",className:W.getFieldValue("password")&&W.getFieldValue("password").length>0&&b.a.password,rules:[{validator:L}]},E.a.createElement(m["a"],{size:"large",type:"password",placeholder:"\u81f3\u5c116\u4f4d\u5bc6\u7801\uff0c\u533a\u5206\u5927\u5c0f\u5199"}))),E.a.createElement(_,{name:"confirm",rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u5bc6\u7801\uff01"},{validator:K}]},E.a.createElement(m["a"],{size:"large",type:"password",placeholder:"\u786e\u8ba4\u5bc6\u7801"})),E.a.createElement(j,{compact:!0},E.a.createElement(p["a"],{size:"large",value:M,onChange:U,style:{width:"20%"}},E.a.createElement(w,{value:"86"},"+86"),E.a.createElement(w,{value:"87"},"+87")),E.a.createElement(_,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^\d{11}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]},E.a.createElement(m["a"],{size:"large",placeholder:"\u624b\u673a\u53f7"}))),E.a.createElement(r["a"],{gutter:8},E.a.createElement(n["a"],{span:16},E.a.createElement(_,{name:"captcha",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}]},E.a.createElement(m["a"],{size:"large",placeholder:"\u9a8c\u8bc1\u7801"}))),E.a.createElement(n["a"],{span:8},E.a.createElement(s["a"],{size:"large",disabled:!!q,className:b.a.getCaptcha,onClick:X},q?"".concat(q," s"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"))),E.a.createElement(_,null,E.a.createElement(s["a"],{size:"large",loading:t,className:b.a.submit,type:"primary",htmlType:"submit"},"\u6ce8\u518c"),E.a.createElement(h["a"],{className:b.a.login,to:"/user/login"},"\u4f7f\u7528\u5df2\u6709\u8d26\u6237\u767b\u5f55"))))};a["default"]=Object(f["a"])((function(e){var a=e.userAndregister,t=e.loading;return{userAndregister:a,submitting:t.effects["userAndregister/submit"]}}))(N)},sYde:function(e,a,t){e.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);