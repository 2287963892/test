(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"2Fcx":function(e,t,a){e.exports={container:"container___1Rq3A"}},bsDN:function(e,t,a){e.exports={menu:"menu___3fMWW",right:"right___2CMz5",action:"action___3ut1O",search:"search___3FPts",account:"account___1r_Ku",avatar:"avatar___1Rx79",dark:"dark___1zu9O",name:"name___2eduw"}},maEh:function(e,t,a){"use strict";a.r(t);var n=a("0Owb"),r=a("oBTY"),o=a("CiB2"),c=a("k1fw"),i=(a("J+/v"),a("MoRW")),l=(a("+L6B"),a("2/Rp")),s=a("Hx5s"),u=a("q1tI"),m=a.n(u),d=a("55Ip"),p=a("9kvl"),h=a("oN5p"),v=a("HZnN"),b=(a("+BJd"),a("T2oS"),a("W9HT")),f=(a("Telt"),a("Tckk")),g=(a("lUTK"),a("BvKs")),_=a("fWQN"),y=a("mtLc"),E=a("yKVA"),N=a("879j"),C=a("aIfO"),w=(a("qVdP"),a("jsC+")),k=a("PpiC"),j=a("TSYQ"),O=a.n(j),T=a("2Fcx"),x=a.n(T),M=function(e){var t=e.overlayClassName,a=Object(k["a"])(e,["overlayClassName"]);return m.a.createElement(w["a"],Object(n["a"])({overlayClassName:O()(x.a.container,t)},a))},V=M,R=a("bsDN"),z=a.n(R),B=function(e){Object(E["a"])(a,e);var t=Object(N["a"])(a);function a(){var e;Object(_["a"])(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.onMenuClick=function(t){var a=t.key;if("logout"!==a);else{var n=e.props.dispatch;n&&n({type:"login/logout"})}},e}return Object(y["a"])(a,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=void 0===t?{avatar:"",name:""}:t,n=(e.menu,m.a.createElement(g["a"],{className:z.a.menu,selectedKeys:[],onClick:this.onMenuClick},m.a.createElement(g["a"].Item,{key:"logout"},m.a.createElement(C["a"],null),"\u9000\u51fa\u767b\u5f55")));return a&&a.name?m.a.createElement(V,{overlay:n},m.a.createElement("span",{className:"".concat(z.a.action," ").concat(z.a.account)},m.a.createElement(f["a"],{size:"small",className:z.a.avatar,src:a.avator,alt:"avatar"}),m.a.createElement("span",{className:"".concat(z.a.name," anticon")},a.name))):m.a.createElement("span",{className:"".concat(z.a.action," ").concat(z.a.account)},m.a.createElement(b["a"],{size:"small",style:{marginLeft:8,marginRight:8}}))}}]),a}(m.a.Component),A=Object(p["a"])((function(e){var t=e.user;return{currentUser:t.currentUser}}))(B),I=a("mr32"),K=(a("miYZ"),a("tsqr")),U=a("bt/X"),D=a.n(U),P=a("wd/R"),F=a.n(P),S=(a("Awhp"),a("KrTs")),Z=a("tJVT"),J=(a("Znn+"),a("ZTPi")),W=a("8/dN"),H=a("yUgw"),Q=(a("Mwp2"),a("VXEj")),Y=a("jrin"),q=a("zCwN"),L=a.n(q),X=function(e){var t=e.data,a=void 0===t?[]:t,n=e.onClick,r=e.onClear,o=e.title,c=e.onViewMore,i=e.emptyText,l=e.showClear,s=void 0===l||l,u=e.clearText,d=e.viewMoreText,p=e.showViewMore,h=void 0!==p&&p;return a&&0!==a.length?m.a.createElement("div",null,m.a.createElement(Q["b"],{className:L.a.list,dataSource:a,renderItem:function(e,t){var a=O()(L.a.item,Object(Y["a"])({},L.a.read,e.read)),r=e.avatar?"string"===typeof e.avatar?m.a.createElement(f["a"],{className:L.a.avatar,src:e.avatar}):m.a.createElement("span",{className:L.a.iconElement},e.avatar):null;return m.a.createElement(Q["b"].Item,{className:a,key:e.key||t,onClick:function(){return n&&n(e)}},m.a.createElement(Q["b"].Item.Meta,{className:L.a.meta,avatar:r,title:m.a.createElement("div",{className:L.a.title},e.title,m.a.createElement("div",{className:L.a.extra},e.extra)),description:m.a.createElement("div",null,m.a.createElement("div",{className:L.a.description},e.description),m.a.createElement("div",{className:L.a.datetime},e.datetime))}))}}),m.a.createElement("div",{className:L.a.bottomBar},s?m.a.createElement("div",{onClick:r},u," ",o):null,h?m.a.createElement("div",{onClick:function(e){c&&c(e)}},d):null)):m.a.createElement("div",{className:L.a.notFound},m.a.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg",alt:"not found"}),m.a.createElement("div",null,i))},G=X,$=a("od3r"),ee=a.n($),te=J["a"].TabPane,ae=function(e){var t=function(){var t=e.children,a=e.loading,r=e.onClear,o=e.onTabChange,c=e.onItemClick,i=e.onViewMore,l=e.clearText,s=e.viewMoreText;if(!t)return null;var u=[];return m.a.Children.forEach(t,(function(e){if(e){var t=e.props,a=t.list,o=t.title,d=t.count,p=t.tabKey,h=t.showClear,v=t.showViewMore,b=a&&a.length?a.length:0,f=d||0===d?d:b,g=f>0?"".concat(o," (").concat(f,")"):o;u.push(m.a.createElement(te,{tab:g,key:p},m.a.createElement(G,Object(n["a"])({},e.props,{clearText:l,viewMoreText:s,data:a,onClear:function(){return r&&r(o,p)},onClick:function(t){return c&&c(t,e.props)},onViewMore:function(t){return i&&i(e.props,t)},showClear:h,showViewMore:v,title:o}))))}})),m.a.createElement(b["a"],{spinning:a,delay:300},m.a.createElement(J["a"],{className:ee.a.tabs,onChange:o},u))},a=e.className,r=e.count,o=e.bell,c=Object(H["a"])(!1,{value:e.popupVisible,onChange:e.onPopupVisibleChange}),i=Object(Z["a"])(c,2),l=i[0],s=i[1],u=O()(a,ee.a.noticeButton),d=t(),p=o||m.a.createElement(W["a"],{className:ee.a.icon}),h=m.a.createElement("span",{className:O()(u,{opened:l})},m.a.createElement(S["a"],{count:r,style:{boxShadow:"none"},className:ee.a.badge},p));return d?m.a.createElement(V,{placement:"bottomRight",overlay:d,overlayClassName:ee.a.popover,trigger:["click"],visible:l,onVisibleChange:s},h):h};ae.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},ae.Tab=G;var ne=ae,re=function(e){Object(E["a"])(a,e);var t=Object(N["a"])(a);function a(){var e;Object(_["a"])(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.changeReadState=function(t){var a=t.id,n=e.props.dispatch;n&&n({type:"global/changeNoticeReadState",payload:a})},e.handleNoticeClear=function(t,a){var n=e.props.dispatch;K["b"].success("\u6e05\u7a7a\u4e86".concat(" ",t)),n&&n({type:"global/clearNotices",payload:a})},e.getNoticeData=function(){var t=e.props.notices,a=void 0===t?[]:t;if(!a||0===a.length||!Array.isArray(a))return{};var n=a.map((function(e){var t=Object(c["a"])({},e);if(t.datetime&&(t.datetime=F()(e.datetime).fromNow()),t.id&&(t.key=t.id),t.extra&&t.status){var a={todo:"",processing:"blue",urgent:"red",doing:"gold"}[t.status];t.extra=m.a.createElement(I["a"],{color:a,style:{marginRight:0}},t.extra)}return t}));return D()(n,"type")},e.getUnreadData=function(e){var t={};return Object.keys(e).forEach((function(a){var n=e[a];t[a]||(t[a]=0),Array.isArray(n)&&(t[a]=n.filter((function(e){return!e.read})).length)})),t},e}return Object(y["a"])(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e&&e({type:"global/fetchNotices"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentUser,n=t.fetchingNotices,r=t.onNoticeVisibleChange,o=this.getNoticeData(),c=this.getUnreadData(o);return m.a.createElement(ne,{className:z.a.action,count:a&&a.unreadCount,onItemClick:function(t){e.changeReadState(t)},loading:n,clearText:"\u6e05\u7a7a",viewMoreText:"\u67e5\u770b\u66f4\u591a",onClear:this.handleNoticeClear,onPopupVisibleChange:r,onViewMore:function(){return K["b"].info("Click on view more")},clearClose:!0},m.a.createElement(ne.Tab,{tabKey:"notification",count:c.notification,list:o.notification,title:"\u901a\u77e5",emptyText:"\u4f60\u5df2\u67e5\u770b\u6240\u6709\u901a\u77e5",showViewMore:!0}),m.a.createElement(ne.Tab,{tabKey:"message",count:c.message,list:o.message,title:"\u6d88\u606f",emptyText:"\u60a8\u5df2\u8bfb\u5b8c\u6240\u6709\u6d88\u606f",showViewMore:!0}),m.a.createElement(ne.Tab,{tabKey:"event",title:"\u5f85\u529e",emptyText:"\u4f60\u5df2\u5b8c\u6210\u6240\u6709\u5f85\u529e",count:c.event,list:o.event,showViewMore:!0}))}}]),a}(u["Component"]),oe=Object(p["a"])((function(e){var t=e.user,a=e.global,n=e.loading;return{currentUser:t.currentUser,collapsed:a.collapsed,fetchingMoreNotices:n.effects["global/fetchMoreNotices"],fetchingNotices:n.effects["global/fetchNotices"],notices:a.notices}}))(re),ce=function(e){var t=e.theme,a=e.layout,n=z.a.right;return"dark"===t&&"top"===a&&(n="".concat(z.a.right,"  ").concat(z.a.dark)),m.a.createElement("div",{className:n},m.a.createElement(oe,null),m.a.createElement(A,{menu:!0}),!1)},ie=Object(p["a"])((function(e){var t=e.settings;return{theme:t.navTheme,layout:t.layout}}))(ce),le=a("+n12"),se=a("mxmt"),ue=a.n(se),me=a("0WZ6"),de=m.a.createElement(i["a"],{status:403,title:"403",subTitle:"\u5bf9\u4e0d\u8d77, you are not authorized to access this page.",extra:m.a.createElement(l["a"],{type:"primary"},m.a.createElement(d["a"],{to:"/user/login"},"\u53bb\u767b\u5f55"))}),pe=function e(t){return t.map((function(t){var a=Object(c["a"])(Object(c["a"])({},t),{},{children:t.children?e(t.children):void 0});return v["a"].check(t.authority,a,null)}))},he=m.a.createElement(s["a"],{copyright:"".concat((new Date).getFullYear()," \u884c\u4e91\u7535\u6e90\u79d1\u6280\u6709\u9650\u516c\u53f8\u51fa\u54c1 \u2601\ufe0f"),links:[{key:"\u884c\u4e91\u7535\u6e90",title:"\u884c\u4e91\u7535\u6e90",href:"https://hzjszd.cn",blankTarget:!0},{key:"github",title:m.a.createElement(h["a"],null),href:"https://github.com/22879063892",blankTarget:!0},{key:"\u6362\u7535\u7ba1\u7406\u7cfb\u7edf",title:"\u6362\u7535\u7ba1\u7406\u7cfb\u7edf",href:"https://hzjszd.cn",blankTarget:!0}]}),ve=function(e){var t=e.dispatch,a=e.children,c=e.settings,i=e.location,l=void 0===i?{pathname:"/"}:i;Object(u["useEffect"])((function(){console.log("env=>",Object({NODE_ENV:"production"})),Object(me["a"])(),t&&t({type:"user/fetchCurrent"})}),[]);var h=function(e){t&&t({type:"global/changeLayoutCollapsed",payload:e})},b=Object(le["a"])(e.route.routes,l.pathname||"/")||{authority:void 0},f=Object(p["d"])();return Object(o["a"])(f),m.a.createElement(m.a.Fragment,null,m.a.createElement(s["f"],Object(n["a"])({logo:ue.a,onCollapse:h,onMenuHeaderClick:function(){return p["b"].push("/")},menuItemRender:function(e,t){return e.isUrl||!e.path?t:m.a.createElement(d["a"],{to:e.path},t)},breadcrumbRender:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{path:"/",breadcrumbName:"\u9996\u9875"}].concat(Object(r["a"])(e))},itemRender:function(e,t,a,n){var r=0===a.indexOf(e);return r?m.a.createElement(d["a"],{to:n.join("/")},e.breadcrumbName):m.a.createElement("span",null,e.breadcrumbName)},footerRender:function(){return he},menuDataRender:pe,rightContentRender:function(){return m.a.createElement(ie,null)}},e,c),m.a.createElement(v["a"],{authority:b.authority,noMatch:de},a)))};t["default"]=Object(p["a"])((function(e){var t=e.global,a=e.settings;return{collapsed:t.collapsed,settings:a}}))(ve)},mxmt:function(e,t,a){e.exports=a.p+"static/logo.47edd9a1.svg"},od3r:function(e,t,a){e.exports={popover:"popover___3CK4c",noticeButton:"noticeButton___2tmwZ",icon:"icon___1g-4R",badge:"badge___2Vc9h",tabs:"tabs___dTkaB"}},zCwN:function(e,t,a){e.exports={list:"list___1Bcfk",item:"item___1UQri",meta:"meta___17ay5",avatar:"avatar___35uD6",iconElement:"iconElement___2YWai",read:"read___Querz",title:"title___6FQVY",description:"description___2ifEu",datetime:"datetime___IKrkR",extra:"extra___1_Nu2",loadMore:"loadMore___12o4h",loadedAll:"loadedAll___3qZ2d",notFound:"notFound___1yAup",bottomBar:"bottomBar___1SPVP"}}}]);